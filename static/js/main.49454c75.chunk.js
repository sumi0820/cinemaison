(this.webpackJsonpcinemaison=this.webpackJsonpcinemaison||[]).push([[0],{102:function(e,t){e.exports={APIKey:"48e886f0"}},339:function(e,t,a){e.exports=a(809)},343:function(e,t,a){},809:function(e,t,a){"use strict";a.r(t);var n=a(55),r=a(0),i=a.n(r),c=a(33),o=a.n(c),l=(a(343),a(5)),s=a(6),m=a(7),u=a(8),d=a(10),p=a(56),f=a(11),v=a(44),h=a.n(v),b={marginLeft:"7px",marginRight:"7px"},E=Object(f.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return i.a.createElement("ul",{className:"nav"},i.a.createElement("li",null,i.a.createElement(d.c,{to:"/mypage",className:"nav-item text-white",style:b},"My Page")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/create",className:"nav-item text-white",style:b},"New Review")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/search",className:"nav-item text-white",style:b},"Search Movie")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/about",className:"nav-item text-white",style:b},"About")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/",className:"nav-item text-white",style:b,onClick:function(){e.signOut()}},"Log Out")))})),g={marginLeft:"7px",marginRight:"7px"},y=function(){return i.a.createElement("ul",{className:"nav"},i.a.createElement("li",null,i.a.createElement(d.c,{to:"/about",className:"nav-item text-white",style:g},"About")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/signin",className:"nav-item text-white",style:g},"Sign in")))},O={backgroundColor:"#0890B5",fontSize:"20px"},w=Object(f.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth.uid?i.a.createElement(E,null):i.a.createElement(y,null);return i.a.createElement("div",null,i.a.createElement("nav",{className:"navbar navbar-default navbar-fixed-top",style:O},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"navbar-header"},i.a.createElement("div",{className:"navbar-left logo"},i.a.createElement(d.b,{className:"navbar-brand text-white font-weight-bold brand-text",to:"/"},"Cinemaison"))),i.a.createElement("ul",{className:"nav navbar-right justify-content-center"},t))))})),N={backgroundColor:"#0890B5",fontSize:"16px",position:"absolute",left:"0",bottom:"0",right:"0"},x=function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"row",style:N},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"footer p-3 mt-4 text-center text-light"},"Developed By:",i.a.createElement("span",{className:"text-warning font-weight-normal"},"Sumiya Ushiro"),", Using ",i.a.createElement("i",{className:"fab fa-react"})," React JS & Redux JS integrated with Firebase & external movies data API"))))},j=a(54),R=a.n(j),I={textAlign:"center"},A={margin:"0px",display:"flex",justifyContent:"space-around",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"center"},C=function(e){var t=e.notifications;return i.a.createElement("div",null,i.a.createElement("div",{className:"section"},i.a.createElement("h3",{style:I},"Notification")),i.a.createElement("ul",null,t&&t.map((function(e){return i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body",key:e.id,style:A},i.a.createElement("p",{className:"card-text",style:A},e.user," ",e.content),i.a.createElement("p",{className:"card-text",style:A},R()(e.time.toDate()).fromNow())))}))))},S={marginBottom:"15px"},D={display:"block",width:"500px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},k=function(e){var t=e.review;return i.a.createElement("div",{className:"card",style:S},i.a.createElement("div",{className:"card-body"},i.a.createElement("h3",{className:"card-title",style:D},t.title),i.a.createElement("h6",{className:"card-text",style:D},"Posted by ",t.authorName),i.a.createElement("h6",{className:"card-text",style:D},R()(t.createdAt.toDate()).calendar())))},F={textAlign:"center"},M=function(e){var t=e.reviews;return i.a.createElement("div",{className:"review-list section"},i.a.createElement("h3",{style:F},"Reviews"),t&&t.map((function(e){return i.a.createElement(d.b,{to:"/review/"+e.id,key:e.id},i.a.createElement(k,{review:e}))})))},P=a(15),T=a(16),_={margin:"35px"},V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.auth,e.reviews),a=e.notifications;return i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-around"},i.a.createElement("div",{className:"row",style:_},i.a.createElement(M,{reviews:t})),i.a.createElement("div",{className:"flex-column s12 m6 float-right",style:_},i.a.createElement(C,{notifications:a}))))}}]),a}(r.Component),L=Object(T.d)(Object(f.b)((function(e){return{reviews:e.firestore.ordered.reviews,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}})),Object(P.firestoreConnect)([{collection:"reviews",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(V),B={fontFamily:"Times New Roman",fontSize:"20px",textAlign:"center"},G={width:"100%",maxWidth:"600px",position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%"},U={fontFamily:"Times New Roman",fontSize:"18px",textAlign:"right"},z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{style:G},i.a.createElement("p",{style:B},i.a.createElement("h4",null,"Welcome to Cinemaison"),"Cinemaison is a review aggregator website for cin\xe9philes. ",i.a.createElement("br",null),i.a.createElement("br",null),"You can post your movie reviews and make own favorite movie list.",i.a.createElement("br",null),"Enjoy your wonderful movie life."),i.a.createElement("p",{style:U},"Cinemaison Owner",i.a.createElement("br",null),"Sumiya Ushiro")))}}]),a}(r.Component),W=a(20),H={marginLeft:"10px",marginRight:"10px"},K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).isMyReview=function(){console.log(e.props.docId,e.props.review.authorId,e.props.auth.uid);var t=e.props,a=t.docId,n=t.review,r=t.auth;if(n.authorId===r.uid)return i.a.createElement("div",null,i.a.createElement("button",{type:"submit",className:"btn btn-danger btn-bg mt-1",style:H,onClick:function(){e.props.removeReview(a,e.props.history),e.props.history.push("/")}},"Delete"))},e}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.isMyReview())}}]),a}(r.Component),J=Object(T.d)(Object(f.b)(null,(function(e){return{removeReview:function(t){e(function(e,t){return function(t,a,n){(0,n.getFirestore)().collection("reviews").doc(e).delete().then((function(){t({type:"REMOVE_REVIEW"})})).catch((function(e){t({type:"REMOVE_ERROR",err:e})}))}}(t))}}})),Object(P.firestoreConnect)([{collection:"reviews"}]))(Object(p.g)(K)),X={marginLeft:"10px",marginRight:"10px"},Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-bg mt-1",style:X,onClick:this.props.history.goBack},"Go Back"))}}]),a}(r.Component),q=Object(p.g)(Y),$={position:"fixed",top:"50%",left:"50%"};var Q=function(){return i.a.createElement("div",{className:"d-flex justify-content-center",style:$},i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))},Z={fontSize:"16px"},ee={margin:"0px",fontSize:"13px"},te={marginTop:"2%",fontSize:"13px"},ae={marginTop:"1%",fontSize:"13px"},ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.review,a=e.auth,n=e.docId;return i.a.createElement("div",null,a.uid?t?i.a.createElement("div",{className:"container section review-detail"},i.a.createElement("div",{className:"container",style:te},i.a.createElement("div",{className:"card-container"},i.a.createElement("h1",{className:"card-title"},t.title," "),i.a.createElement("p",{style:Z},t.content)),i.a.createElement("p",{className:"card-text",style:ee},"Posted by ",t.authorName),i.a.createElement("p",{className:"card-text",style:ee},R()(t.createdAt.toDate()).calendar())),i.a.createElement("div",{className:"d-flex flex-row",style:ae},i.a.createElement(q,null),i.a.createElement(J,{docId:n,review:t,auth:a}))):i.a.createElement("div",{className:"container center"},i.a.createElement(Q,null)):i.a.createElement(p.a,{to:"/signin"}))}}]),a}(r.Component),re=Object(T.d)(Object(f.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.reviews;return{review:n?n[a]:null,reviews:n,auth:e.firebase.auth,docId:a}})),Object(P.firestoreConnect)([{collection:"reviews"}]))(Object(p.g)(ne)),ie=a(331),ce=a.n(ie),oe={textAlign:"center",margin:"35px"},le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).uiConfig={signInFlow:"popup",signInSuccessUrl:"/signedIn",signInOptions:[h.a.auth.GoogleAuthProvider.PROVIDER_ID,h.a.auth.TwitterAuthProvider.PROVIDER_ID,h.a.auth.GithubAuthProvider.PROVIDER_ID,h.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},e.componentDidMount=function(){h.a.auth().onAuthStateChanged((function(e){console.log(h.a.auth().currentUser)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?i.a.createElement(p.a,{to:"/"}):i.a.createElement("div",{className:"container"},i.a.createElement("h3",{style:oe},"Sign In"),i.a.createElement(ce.a,{uiConfig:this.uiConfig,firebaseAuth:h.a.auth()}))}}]),a}(r.Component),se=Object(f.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}))(le),me={margin:"35px 35px 35px 35px",width:"100%"},ue={fontSize:"32px"},de={margin:"15px 15px 15px 15px",width:"100%"},pe={whiteSpace:"pre-wrap"},fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={title:"",content:""},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createReview(e.state),e.props.history.push("/")},e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.handleSubmit,style:me},i.a.createElement("h5",{style:ue},"New Review"),i.a.createElement("div",{className:"d-flex flex-column justify-content-center",rows:"3"},i.a.createElement("div",{className:"input-field ",style:de},i.a.createElement("label",{htmlFor:"title"},"Title"),i.a.createElement("input",{type:"text",className:"form-control",id:"title",placeholder:"Enter title",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field",style:de},i.a.createElement("label",{htmlFor:"content"},"Content"),i.a.createElement("textarea",{type:"text",className:"form-control",rows:"12",id:"content",placeholder:"content",onChange:this.handleChange,style:pe}))),i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("button",{className:"btn btn-primary"},"Post")))):i.a.createElement(p.a,{to:"/signin"})}}]),a}(r.Component),ve=Object(f.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createReview:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),i=a().firebase.auth.displayName,c=a().firebase.auth.uid;r.collection("reviews").add(Object(W.a)({},e,{authorName:i,authorId:c,createdAt:new Date})).then((function(){t({type:"CREATE_REVIEW",review:e})})).catch((function(e){t({type:"CREATE_ERROR",err:e})}))}}(t))}}}))(fe),he={marginBottom:"15px"},be={display:"block",width:"500px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ee=function(e){var t=e.review;return i.a.createElement("div",{className:"card",style:he},i.a.createElement("div",{className:"card-body"},i.a.createElement("h3",{className:"card-title",style:be},t.title),i.a.createElement("h6",{className:"card-text",style:be},"Posted by ",t.authorName),i.a.createElement("h6",{className:"card-text",style:be},R()(t.createdAt.toDate()).calendar())))},ge=(a(509),{textAlign:"center"}),ye=function(e){var t=e.reviews,a=e.auth;return i.a.createElement("div",{className:"project-list section"},console.log(a),t&&t.map((function(e){if(a.uid===e.authorId)return i.a.createElement("div",null,i.a.createElement("h3",{style:ge},"My Reviews"),i.a.createElement(d.b,{to:"/review/"+e.id,key:e.id},i.a.createElement(Ee,{review:e})))})))},Oe={marginBottom:"15px"},we={display:"block",width:"500px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ne=function(e){var t=e.favorite;return i.a.createElement("div",{className:"card",style:Oe},i.a.createElement("div",{className:"card-body"},i.a.createElement("h3",{className:"card-title",style:we},t.title),i.a.createElement("h6",{className:"card-text",style:we},"Director: ",t.director),i.a.createElement("h6",{className:"card-text",style:we},"Released: ",t.released)))},xe=function(e){var t=e.favorites,a=e.auth;return i.a.createElement("div",{className:"project-list section"},t&&t.map((function(e){if(a.uid===e.authorId)return i.a.createElement(d.b,{to:"/movie/"+e.imdbID,key:e.id},i.a.createElement(Ne,{favorite:e}))})))},je={margin:"35px"},Re={textAlign:"center"},Ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.reviews,a=e.favorites,n=e.auth;return n.uid?i.a.createElement("div",{className:"d-flex justify-content-lg-around"},i.a.createElement("div",{className:"row",style:je},i.a.createElement(ye,{reviews:t,auth:n})),i.a.createElement("div",{className:"flex-column s12 m6 float-right",style:je},i.a.createElement("h3",{style:Re},"My Favorite Movies"),i.a.createElement(xe,{favorites:a,auth:n})),console.log(t,a)):i.a.createElement(p.a,{to:"/signin"})}}]),a}(r.Component),Ae=Object(T.d)(Object(f.b)((function(e){return console.log(e),{reviews:e.firestore.ordered.reviews,favorites:e.firestore.ordered.favorites,auth:e.firebase.auth}})),Object(P.firestoreConnect)([{collection:"reviews",orderBy:["createdAt","desc"]},{collection:"favorites",orderBy:["createdAt","desc"]}]))(Ie),Ce=a(101),Se=a.n(Ce),De=a(102),ke=function(e){return function(t){Se.a.get("http://www.omdbapi.com/?i=tt3896198&apikey=".concat(De.APIKey,"&s=").concat(e,"&page=1")).then((function(e){return t({type:"FETCH_MOVIES",payload:e.data})})).catch((function(e){return console.log(e)}))}},Fe=function(e,t){return function(a){Se.a.get("http://www.omdbapi.com/?i=tt3896198&apikey=".concat(De.APIKey,"&s=").concat(e,"&page=").concat(t)).then((function(e){return a({type:"REFRESH_MOVIES",payload:e.data})})).catch((function(e){return console.log(e)}))}},Me={width:"50%"},Pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.searchMovie(t.target.value)},e.handleSubmit=function(t){t.preventDefault(),e.props.fetchMovies(e.props.text),console.log(e.props.page)},e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?i.a.createElement("div",{className:"jumbotron-fluid mt-5 text-center"},i.a.createElement("div",{className:"container"},i.a.createElement("h3",{className:"mb-3"},i.a.createElement("i",{className:"fa fa-search"})," Search for a movie ,TV series .."),i.a.createElement("form",{id:"searchForm ",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"d-flex flex-row justify-content-center"},i.a.createElement("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search Movies, TV Series ...",onChange:this.handleChange,style:Me})),i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-bg mt-3"},"Search")))):i.a.createElement(p.a,{to:"/signin"})}}]),a}(r.Component),Te=Object(f.b)((function(e){return{text:e.movies.text,auth:e.firebase.auth}}),{searchMovie:function(e){return function(t){t({type:"SEARCH_MOVIE",payload:e})}},fetchMovies:ke})(Pe),_e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.movie;return i.a.createElement("div",{className:"col-md-3 mb-5"},i.a.createElement("div",{className:"card card-body bg-dark text-center h-100"},i.a.createElement("img",{className:"w-100 mb-2",src:e.Poster,alt:"Movie Cover"}),i.a.createElement("h5",{className:"text-light card-title"},e.Title," - ",e.Year),i.a.createElement(d.b,{className:"btn btn-primary",to:"/movie/"+e.imdbID},"Movie Details",i.a.createElement("i",{className:"fas fa-chevron-right"}))))}}]),a}(r.Component),Ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.page!==e.page&&this.props.refreshMovies(this.props.text,this.props.page)}},{key:"render",value:function(){var e=this,t={marginLeft:"10px",marginRight:"10px"},a=this.props,n=a.page,r=a.movies;return i.a.createElement("div",null,i.a.createElement("nav",{"aria-label":"Page navigation example"},i.a.createElement("ul",{className:"pagination justify-content-center"},i.a.createElement("li",{className:"page-item"},n<=1?null:i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-bg mt-3",onClick:function(t){t.preventDefault(),e.props.prevPage(n),console.log(r.totalResults,n)},style:t},"Prev")),i.a.createElement("li",{className:"page-item"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-bg mt-3",onClick:function(t){t.preventDefault(),e.props.nextPage(n),console.log(r.totalResults,n)},style:t},"Next")))))}}]),a}(r.Component),Le=Object(f.b)((function(e){return{text:e.movies.text,page:e.movies.page,movies:e.movies.movies}}),{nextPage:function(e){return function(t){t({type:"NEXT_PAGE",page:e+1})}},prevPage:function(e){return function(t){t({type:"PREV_PAGE",page:e-1})}},refreshMovies:Fe})(Ve),Be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e,t=this.props.movies;e="True"===t.Response?t.Search.map((function(e,t){return i.a.createElement(_e,{key:t,movie:e})})):i.a.createElement("div",{className:"container-fluid"},i.a.createElement("p",{className:"text-center"}," ",t.Error));var a;return a="True"===t.Response?i.a.createElement(Le,null):null,i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex flex-row flex-wrap",style:{marginTop:"15px",width:"100%"}},e),a)}}]),a}(r.Component),Ge=Object(f.b)((function(e){return{movies:e.movies.movies,page:e.movies.page}}),{fetchMovies:ke,refreshMovies:Fe})(Be),Ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.loading;return i.a.createElement("div",{className:"container"},i.a.createElement(Te,null),e?i.a.createElement(Q,null):i.a.createElement(Ge,null))}}]),a}(r.Component),ze=Object(f.b)((function(e){return{loading:e.movies.loading}}))(Ue),We=function(e){return function(t){Se.a.get("http://www.omdbapi.com/?apikey=".concat(De.APIKey,"&=&i=").concat(e)).then((function(e){return t({type:"GET_DETAIL",payload:e.data,loading:!1})})).catch((function(e){return console.log(e)}))}},He={marginLeft:"10px",marginRight:"10px"},Ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(d.b,{to:"/create"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-bg mt-1",style:He},"Add Review")))}}]),a}(r.Component),Je={marginLeft:"10px",marginRight:"10px"},Xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleRemove=function(t){t.preventDefault(),e.props.removeFav(e.isDocId()),console.log(e.isDocId(),e.state)},e.handleAdd=function(t){t.preventDefault(),e.props.addFav()},e.isPresentMovie=function(){return e.props.favorites&&e.props.favorites.filter((function(t){return t.authorId===e.props.auth.uid})).find((function(t){return t.imdbID===e.props.movie.imdbID}))?i.a.createElement("button",{type:"submit",className:"btn btn-danger btn-bg mt-1",onClick:e.handleRemove,style:Je},"Remove From Favorite"):i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-bg mt-1",onClick:e.handleAdd,style:Je},"Add To Favorite")},e.isDocId=function(){var t=e.props.favorites&&e.props.favorites.filter((function(t){return t.authorId=e.props.auth.uid})).find((function(t){return t.imdbID===e.props.movie.imdbID})).id;if(t)return t},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.favorites!==e.favorites&&console.log(this.isPresentMovie(),this.state,"componentDidUpdate")}},{key:"render",value:function(){return i.a.createElement("div",{className:"d-flex"},this.isPresentMovie())}}]),a}(r.Component),Ye=Object(T.d)(Object(f.b)((function(e){return{favorites:e.firestore.ordered.favorites,auth:e.firebase.auth,movie:e.movie.movie,favStatus:e.movie.favStatus}}),{addFav:function(){return function(e,t,a){a.getFirebase;var n=(0,a.getFirestore)(),r=t().movie.movie,i=t().firebase.auth.uid;n.collection("favorites").add({director:r.Director,imdbID:r.imdbID,title:r.Title,released:r.Released,authorId:i,createdAt:new Date}).then((function(){e({type:"ADD_FAV"})})).catch((function(t){e({type:"CREATE_ERROR",err:t})}))}},removeFav:function(e){return console.log(e),function(t,a,n){(0,n.getFirestore)().collection("favorites").doc(e).delete().then((function(){console.log("Deleted favorite"),t({type:"REMOVE_FAV"})})).catch((function(e){t({err:e})}))}},getDetail:We}),Object(P.firestoreConnect)([{collection:"favorites"}]))(Xe),qe={marginTop:"25px"},$e={marginLeft:"10px",marginRight:"10px"},Qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getDetail(this.props.match.params.id),this.props.setLoading()}},{key:"render",value:function(){var e=this.props,t=e.movie,a=e.loading;if(!e.auth.uid)return i.a.createElement(p.a,{to:"/signin"});var n=i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row",style:qe},i.a.createElement("div",{className:"col-md-4 card card-body"},i.a.createElement("img",{src:t.Poster,className:"thumbnail",alt:"Poster"})),i.a.createElement("div",{className:"col-md-8"},i.a.createElement("h2",{className:"mb-4"},t.Title),i.a.createElement("ul",{className:"list-group"},i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"Genre:")," ",t.Genre),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"Released:")," ",t.Released),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"Rated:")," ",t.Rated),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"IMDB Rating:")," ",t.imdbRating),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"Director:")," ",t.Director),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"Writer:")," ",t.Writer),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"Actors:")," ",t.Actors),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("strong",null,"About:")," ",t.Plot),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("div",{className:"d-flex flex-row "},i.a.createElement(Ye,null),i.a.createElement("a",{href:"https://www.imdb.com/title/"+t.imdbID,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-bg mt-1",style:$e},"View on IMDB"),i.a.createElement(q,null),i.a.createElement(Ke,null))))))),r=a?i.a.createElement(Q,null):n;return i.a.createElement("div",{className:"d-flex justify-content-center"},r)}}]),a}(r.Component),Ze=Object(f.b)((function(e){return{movie:e.movie.movie,loading:e.movie.loading,auth:e.firebase.auth}}),{getDetail:We,setLoading:function(){return{type:"LOADING"}}})(Qe),et={paddingBottom:"100px",minHeight:"100vh",display:"block",position:"relative"},tt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement(d.a,null,i.a.createElement("div",{className:"App",style:et},i.a.createElement(w,null),i.a.createElement(p.d,null,i.a.createElement(p.b,{exact:!0,path:"/cinemaison",component:L}),i.a.createElement(p.b,{path:"/about",component:z}),i.a.createElement(p.b,{path:"/review/:id",component:re}),i.a.createElement(p.b,{path:"/signin",component:se}),i.a.createElement(p.b,{path:"/create",component:ve}),i.a.createElement(p.b,{path:"/search",component:ze}),i.a.createElement(p.b,{path:"/mypage",component:Ae}),i.a.createElement(p.b,{exact:!0,path:"/movie/:id",component:Ze})),i.a.createElement(x,null)))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at={text:"",movies:[],loading:!1,movie:[],page:1},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_MOVIE":return console.log("search movie"),Object(W.a)({},e,{text:t.payload,loading:!1});case"FETCH_MOVIES":return console.log("Successfully fetched movies"),Object(W.a)({},e,{movies:t.payload,loading:!1});case"REFRESH_MOVIES":return console.log("Successfully refreshed movies"),Object(W.a)({},e,{movies:t.payload,loading:!1});case"NEXT_PAGE":case"PREV_PAGE":return console.log("Successfully move to new page"),Object(W.a)({},e,{page:t.page,loading:!1});default:return e}},rt={movie:[],loading:!1,favorite:!1,favStatus:!0},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DETAIL":return console.log("Got movie detail"),Object(W.a)({},e,{movie:t.payload,loading:!1});case"LOADING":return console.log("Loading..."),Object(W.a)({},e,{loading:!0});case"ADD_FAV":return console.log("Added to favorite"),Object(W.a)({},e,{favorite:!0,favStatus:!0});case"REMOVE_FAV":return console.log("Removed from favorite"),Object(W.a)({},e);default:return e}},ct={status:!1},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("Login success"),Object(W.a)({},e,{status:!0});case"SIGNOUT_SUCCESS":return console.log("Signout Success"),Object(W.a)({},e,{status:!1});default:return e}},lt={reviews:[]},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_REVIEW":return console.log("Created new review",t.review),e;case"CREATE_ERROR":return console.log("Create review error",t.err),e;case"REMOVE_REVIEW":return console.log("Removed review successfully"),e;case"REMOVE_ERROR":return console.log("Removed review error",t.err),e;default:return e}},mt=a(71),ut=Object(T.c)({movies:nt,movie:it,auth:ot,review:st,firestore:mt.firestoreReducer,firebase:P.firebaseReducer}),dt=a(338),pt=(a(328),a(4)),ft=a.n(pt),vt=(a(808),a(277),{apiKey:"AIzaSyABy_xVfM7ugq4-0f9Hc2mU5FGpbrTTbtM",authDomain:"cinemaison-f1cd1.firebaseapp.com",databaseURL:"https://cinemaison-f1cd1.firebaseio.com",projectId:"cinemaison-f1cd1",storageBucket:"cinemaison-f1cd1.appspot.com",messagingSenderId:"123728569928",appId:"1:123728569928:web:f3bb573c6b3d9d76845a7d",measurementId:"G-XL5CBWVN55"});ft.a.initializeApp(vt),ft.a.firestore().settings({timestampsInSnapshots:!0});var ht,bt=ft.a.apps.length?ft.a.app().firestore():ft.a.initializeApp(vt).firestore(),Et=Object(T.e)(ut,{},Object(T.d)(Object(T.a)(dt.a.withExtraArgument({getFirestore:mt.getFirestore,getFirebase:P.getFirebase})),Object(mt.reduxFirestore)(ft.a,bt))),gt=(ht={firebase:ft.a,config:bt},Object(n.a)(ht,"config",{userProfile:"users",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1}),Object(n.a)(ht,"dispatch",Et.dispatch),Object(n.a)(ht,"createFirestoreInstance",mt.createFirestoreInstance),ht);function yt(e){var t=e.children,a=Object(f.c)((function(e){return e.firebase.auth}));return Object(P.isLoaded)(a)?t:i.a.createElement(Q,null)}o.a.render(i.a.createElement(f.a,{store:Et},i.a.createElement(i.a.StrictMode,null,i.a.createElement(P.ReactReduxFirebaseProvider,gt,i.a.createElement(yt,null,i.a.createElement(tt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[339,1,2]]]);
//# sourceMappingURL=main.49454c75.chunk.js.map